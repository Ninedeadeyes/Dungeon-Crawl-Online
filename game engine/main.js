let screen=document.querySelector("#screen");
let info=document.querySelector("#info");
let control=document.querySelector("#control");

game=true;
let x=2;
let y=3;

 let dungeonMap1= [["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","p","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","h","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","D","x"],
                  ["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"]]

 let playerMap1 = [["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","p","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","D","x"],
                  ["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"]]


let dungeonMap2= [["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","x","x","x","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","h","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","x","x","x","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"]]

 let playerMap2 =[["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","p","0","x","x","x","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","0","0","h","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","x","x","x","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","0","0","0","0","0","0","0","0","x","0","0","0","0","0","0","0","0","0","0","0","0","x"],
                  ["x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x","x"]]

let mapChoice=dungeonMap1;
let playerMapChoice=playerMap1;

let position=mapChoice[y][x];

function clearScreen(){
    screen.innerHTML=" ";
    displayMaps(playerMapChoice);
}

function displayMaps(maps){
    for (let i=0; i<10;i++){
        screen.innerHTML+=(maps[i]+"</br>");
        maps[y][x] = "p";
        
    }
}

function clickHandler(dir)  {

    if (game==true){
            
        info.innerHTML=" " ;      //clear screen for info
        let previousX=x;          //  in case you hit into a wall
        let previousY=y;
        playerMapChoice[y][x] = "0";   // so you don't leave a trail of 'p' 
        
        if (dir==1){
            y--;
        }

        if (dir==2){
            x++;
        }

        if (dir==3){
            y++;
        }

        if (dir==4){
            x--;
        }

        position=mapChoice[y][x];      // convert the dungeon map y and x to gather infor of location 

        if (position=="x"){
            playerMapChoice[y][x] = "x";
            x= previousX
            y= previousY
            info.innerHTML=("You walk into a wall");
        }

        if (position=="h"){
            playerMapChoice[y][x] = "h";
            x= previousX
            y= previousY
            info.innerHTML=("Old Man: go away I am trying to think");    
        }
        
        if (position=="0"){
            info.innerHTML=("There is a door on the right hand corner of the 1st level");
            }

        if (position=="D"){
            info.innerHTML=("going through a door to the 2nd level ");
            mapChoice=dungeonMap2;
            playerMapChoice=playerMap2;
            x=4;
            y=3;
                  
            }
  
         clearScreen();

    }
}

clearScreen();  // intiate the screen at the start 
info.innerHTML=("This is the basic game engine ");